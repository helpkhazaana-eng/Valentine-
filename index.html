<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  font-family:'Segoe UI',sans-serif;
  background:radial-gradient(circle at top,#fff7fb,#eef3ff);
  overflow:hidden;
  text-align:center;
}

/* FLOATING HEARTS */
.float{
  position:absolute;
  font-size:16px;
  opacity:.35;
  animation:float 7s linear infinite;
  pointer-events:none;
}
@keyframes float{
  from{transform:translateY(110vh)}
  to{transform:translateY(-10vh)}
}

/* ===== GATE ===== */
.gate{
  position:absolute;
  inset:0;
  margin:auto;
  width:320px;
  height:520px;
  perspective:1200px;
}
.gate-title{
  position:absolute;
  top:-40px;
  width:100%;
  font-size:16px;
  font-weight:700;
  color:#ff4d6d;
}
.heaven-door{
  position:absolute;
  width:50%;
  height:100%;
  background:#fff;
  border-radius:18px;
  transition:1.6s;
}
.left{left:0;transform-origin:left}
.right{right:0;transform-origin:right}
.left.open{transform:rotateY(-95deg)}
.right.open{transform:rotateY(95deg)}

.lock{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
}
.lock button{
  padding:12px 30px;
  border:none;
  border-radius:30px;
  background:#ff4d6d;
  color:white;
}

/* QUESTIONS */
.app{
  position:absolute;
  inset:0;
  margin:auto;
  width:320px;
  background:#fff;
  border-radius:28px;
  padding:24px;
  display:none;
}
.question{font-size:22px;font-weight:800}
.no-msg{color:#ff4d6d;height:20px}
.actions{display:flex;justify-content:space-between;margin-top:14px}
.btn{
  width:64px;height:64px;border-radius:50%;border:none;font-size:26px;
}
.yes{background:#ff4d6d;color:white}
.no{background:#eee}
.moment{display:none;width:100%;border-radius:16px;margin-top:10px}
.next{
  display:none;margin-top:10px;width:100%;
  padding:10px;border:none;border-radius:30px;
  background:#ff4d6d;color:white;
}

/* MATCH */
.match{
  position:fixed;
  inset:0;
  background:#fff0f6;
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.heart{
  font-size:130px;
  cursor:pointer;
}
#crackMsg{
  height:24px;
  font-weight:700;
  color:#ff4d6d;
}

/* FINAL IMAGE */
#finalImage{
  display:none;
  width:260px;
  border-radius:22px;
  margin-top:10px;
  cursor:pointer;
}
#tapImageText{
  display:none;
  color:#ff4d6d;
  font-weight:700;
}

/* SCRATCH */
.scratch{display:none}
.scratch.active{
  position:fixed;
  inset:0;
  background:#fff5fa;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.cards{
  display:flex;
  gap:18px;
}
.card{
  width:90px;
  height:90px;
  background:#ff4d6d;
  clip-path:path("M45 15 C45 0 0 0 0 30 C0 55 45 80 45 80 C45 80 90 55 90 30 C90 0 45 0 45 15 Z");
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.card.big{
  transform:scale(2.6);
  margin-bottom:20px;
}
.card.revealed{
  background:white;
  color:#ff4d6d;
  border:2px solid #ff4d6d;
}

/* EMERGENCY */
.emergency{
  margin-top:20px;
  padding:14px 26px;
  font-weight:800;
  border:none;
  border-radius:40px;
  background:#ff0033;
  color:white;
  animation:jiggle .9s infinite;
}
@keyframes jiggle{
  20%{transform:translateX(-4px)}
  40%{transform:translateX(4px)}
  60%{transform:translateX(-4px)}
  80%{transform:translateX(4px)}
}

/* VIDEO */
.videoWrap{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  justify-content:center;
  align-items:center;
}
video{
  width:90%;
  max-width:420px;
  border-radius:20px;
}
</style>
</head>

<body>

<script>
setInterval(()=>{
  const h=document.createElement("div");
  h.className="float";
  h.innerHTML="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"%";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},350);
</script>

<!-- GATE -->
<div class="gate" id="gate">
  <div class="gate-title">Your Valentine is waiting üíñ</div>
  <div class="heaven-door left" id="leftDoor"></div>
  <div class="heaven-door right" id="rightDoor"></div>

  <div class="lock">
    <button onclick="openGate()">Unlock üîê</button>
  </div>

  <div class="app" id="app">
    <div class="question" id="question"></div>
    <div class="no-msg" id="noMsg"></div>
    <div class="actions">
      <button class="btn no" onclick="noClick()">‚ùå</button>
      <button class="btn yes" onclick="yesClick()">‚ù§Ô∏è</button>
    </div>
    <img id="moment" class="moment">
    <button class="next" id="nextBtn" onclick="nextQuestion()">Next üíï</button>
  </div>
</div>

<!-- MATCH -->
<div class="match" id="match">
  <h3>Crack the heart üíñ</h3>
  <div id="crackMsg"></div>
  <div id="heart" class="heart" onclick="tapHeart()">‚ù§Ô∏è</div>
  <img src="final.png" id="finalImage">
  <div id="tapImageText">Tap the photo üíù</div>
</div>

<!-- SCRATCH -->
<div class="scratch" id="scratch">
  <h3>Scratch any one ‚ù§Ô∏è</h3>
  <div class="cards">
    <div class="card" onclick="reveal(this,'üí∏ ‚Çπ1000 Shopping')">‚ù§Ô∏è</div>
    <div class="card" onclick="reveal(this,'üëó Buy a suit')">‚ù§Ô∏è</div>
    <div class="card" onclick="reveal(this,'üòú Try again next Valentine')">‚ù§Ô∏è</div>
  </div>

  <button id="emergencyBtn" class="emergency" style="display:none"
    onclick="playVideo()">üö® DUTY BEFORE VALENTINE</button>
</div>

<div class="videoWrap" id="videoWrap">
  <video id="finalVideo" controls autoplay>
    <source src="duty.mp4" type="video/mp4">
  </video>
</div>

<script>
const questions=[
 "Will you be my Valentine? üíï",
 "Will you stop fighting with me? üòÑ",
 "Will you be with me forever? ü•∫‚ù§Ô∏è"
];
const images=["img1.png","img2.png","img3.png"];
const noMessages=["YES daba üò§","Accha bachi ban ja üòå","Soch lo ache se ü•∫"];

let q=0,taps=0;

function openGate(){
  leftDoor.classList.add("open");
  rightDoor.classList.add("open");
  setTimeout(()=>{
    document.querySelector('.lock').style.display="none";
    app.style.display="block";
    question.innerText=questions[q];
  },1200);
}

function yesClick(){
  moment.src=images[q];
  moment.style.display="block";
  nextBtn.style.display="block";
}

function noClick(){ noMsg.innerText=noMessages[q]; }

function nextQuestion(){
  q++;
  moment.style.display="none";
  nextBtn.style.display="none";
  noMsg.innerText="";
  if(q<questions.length) question.innerText=questions[q];
  else{ gate.remove(); match.style.display="flex"; }
}

/* HEART */
function tapHeart(){
  taps++;

  if(taps===1){
    crackMsg.innerText="Arre ruk ja üòè";
  }

  if(taps===2){
    crackMsg.innerText="Bas bas üòå";
    heart.innerText="üíî";
  }

  if(taps===3){
    crackMsg.innerText="It‚Äôs a match üíñ";
    heart.style.display="none";

    setTimeout(()=>{
      finalImage.style.display="block";
      tapImageText.style.display="block";
    },500);
  }
}


finalImage.onclick=()=>{
  match.style.display="none";
  scratch.classList.add("active");
};

function reveal(el,text){
  document.querySelectorAll('.card').forEach(c=>{
    if(c!==el) c.style.display="none";
  });
  el.classList.add("big","revealed");
  el.innerText=text;
  setTimeout(()=>emergencyBtn.style.display="inline-block",800);
}

function playVideo(){
  emergencyBtn.style.display="none";
  videoWrap.style.display="flex";
  finalVideo.play();
}
</script>

</body>
</html>
